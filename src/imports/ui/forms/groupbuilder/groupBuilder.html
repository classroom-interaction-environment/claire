<template name="groupBuilder">
    {{#if view "defineSettings"}}
        <div class="d-flex justify-content-end">
            <span>{{i18n "group.availableUsers"}}: {{users.count}}</span>
        </div>
        <hr>

        {{> caroForm
                id="createGroupsForm"
                schema=createGroupsSchema
                type="normal"
                hideLegend=true
                collapse=false
                doc=doc}}
        <hr>

        <div class="d-flex justify-content-between">
            {{#if hasUsers}}
                {{> actionButton type="warning"
                        class="grp-init-btn"
                        label=(i18n "groupBuilder.shuffle")
                        data-target="auto"}}
                {{> actionButton type="secondary"
                        class="grp-init-btn"
                        label=(i18n "groupBuilder.manual")
                        data-target="manual"}}
            {{else}}
                {{> actionButton type="secondary"
                        class="grp-init-btn ml-auto"
                        label=(i18n "groupBuilder.next")
                        data-target="manual"}}
            {{/if}}
        </div>
    {{/if}}

    {{#if view "editGroups"}}
        {{> caroForm
                id="editGroupsForm"
                schema=editGroupSchema
                type="normal"
                hideLegend=true
                collapse=false
                doc=groupsDoc}}
        <hr>

        <div class="d-flex justify-content-between">
            {{> actionButton type="outline-secondary"
                    class="grp-back-btn"
                    icon="caret-left"
                    label=(i18n "groupBuilder.settings")
                    data-target="manual"}}
            {{> actionButton type="success"
                    submit=true
                    form="editGroupsForm"
                    data-target="auto"
                    label=(i18n "actions.create")}}
        </div>
    {{/if}}
</template>